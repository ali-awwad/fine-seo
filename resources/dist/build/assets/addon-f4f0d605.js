function o(s,e,t,l,r,u,_,d){var i=typeof s=="function"?s.options:s;e&&(i.render=e,i.staticRenderFns=t,i._compiled=!0),l&&(i.functional=!0),u&&(i._scopeId="data-v-"+u);var n;if(_?(n=function(a){a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!a&&typeof __VUE_SSR_CONTEXT__<"u"&&(a=__VUE_SSR_CONTEXT__),r&&r.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(_)},i._ssrRegister=n):r&&(n=d?function(){r.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:r),n)if(i.functional){i._injectStyles=n;var h=i.render;i.render=function(p,c){return n.call(c),h(p,c)}}else{var m=i.beforeCreate;i.beforeCreate=m?[].concat(m,n):[n]}return{exports:s,options:i}}const v={props:["value","minChars","maxChars"],mixins:[Fieldtype],computed:{progressColor(){var s,e,t,l;return{"bg-yellow-500":((s=this.value)==null?void 0:s.length)<this.minChars,"bg-green-500":((e=this.value)==null?void 0:e.length)>=this.minChars&&((t=this.value)==null?void 0:t.length)<=this.maxChars,"bg-red-500":((l=this.value)==null?void 0:l.length)>this.maxChars}}}};var g=function(){var l,r;var e=this,t=e._self._c;return t("div",{staticClass:"flex justify-between mt-1 items-center"},[t("div",{staticClass:"bg-gray-200 h-1 relative flex-grow"},[t("div",{staticClass:"h-1 absolute inset-0 max-w-full",class:e.progressColor,style:{width:((l=e.value)==null?void 0:l.length)*100/e.maxChars+"%"}})]),t("div",{staticClass:"text-gray-500 text-sm w-24 flex justify-end"},[e._v(" "+e._s((r=e.value)==null?void 0:r.length)+" / "+e._s(e.maxChars)+" ")])])},C=[],x=o(v,g,C,!1,null,null,null,null);const f=x.exports,b={components:{ProgressBar:f},mixins:[Fieldtype],inject:["storeName"],data(){return{}},computed:{formValues(){return this.$store.state.publish[this.storeName].values},title(){return this.formValues.title??this.value},valueWithWebsiteTitle(){return this.meta.websiteTitle&&!this.formValues.fine_seo_is_title_custom?this.meta.websiteTitle+" "+this.value:this.value}},methods:{updateIsCustomField(s){this.$store.dispatch(`publish/${this.storeName}/setFieldValue`,{handle:"fine_seo_is_title_custom",value:s})}}};var w=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"flex items-center gap-4"},[t("text-input",{staticClass:"flex-grow",attrs:{append:!0,classes:{"text-gray-800 bg-gray-400":!e.value},value:e.value??this.formValues.title},on:{input:e.updateDebounced},scopedSlots:e._u([{key:"append",fn:function(){return[t("div",{staticClass:"flex gap-"},[e.formValues.fine_seo_is_title_custom?e._e():t("div",{staticClass:"input-group-prepend rounded-none !border-r-0 flex items-center gap-2"},[t("div",{staticClass:"text-gray-600 px-2"},[e._v(" "+e._s(e.meta.websiteTitle??"Website Title")+" ")])]),t("div",{staticClass:"input-group-append relative group"},[t("toggle-input",{attrs:{id:"isCustomTitle",value:e.formValues.fine_seo_is_title_custom},on:{input:e.updateIsCustomField}}),t("div",{staticClass:"absolute bottom-full ltr:right-0 rtl:left-0 mb-2 hidden w-max bg-gray-800 text-white text-sm rounded-md py-1 px-2 group-hover:!block"},[e._v(" "+e._s(e.__("fine-seo::messages.customize_page_title"))+" ")])],1)])]},proxy:!0}])})],1),t("progress-bar",{attrs:{value:e.valueWithWebsiteTitle,minChars:e.meta.minChars,maxChars:e.meta.maxChars}}),e.formValues.fine_seo_is_title_custom?t("p",{staticClass:"text-sm text-gray-600 mt-2"},[e._v(" "+e._s(e.__("fine-seo::messages.customize_page_title_long_description"))+" ")]):e._e()],1)},y=[],$=o(b,w,y,!1,null,null,null,null);const V=$.exports,T={components:{ProgressBar:f},mixins:[Fieldtype],data(){return{}}};var F=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"flex items-center gap-4"},[t("textarea-input",{staticClass:"flex-grow",attrs:{value:e.value},on:{input:e.updateDebounced}})],1),t("progress-bar",{attrs:{value:e.value,minChars:e.meta.minChars,maxChars:e.meta.maxChars}})],1)},S=[],R=o(T,F,S,!1,null,null,null,null);const N=R.exports,W={mixins:[Fieldtype],inject:["storeName"],data(){return{image:""}},computed:{truncatedDescription(){return this.formValues.fine_seo_description?this.formValues.fine_seo_description.length>this.meta.maxChars?this.formValues.fine_seo_description.substring(0,this.meta.maxChars)+"...":this.formValues.fine_seo_description:""},formValues(){return this.$store.state.publish[this.storeName].values},finalTitle(){return!this.formValues.fine_seo_is_title_custom||!this.meta.websiteTitle?this.formValues.fine_seo_title+" "+this.meta.websiteSeparator+" "+this.meta.websiteTitle:this.formValues.fine_seo_title}},watch:{"formValues.fine_seo_image":{handler:"loadImage",immediate:!0}},methods:{loadImage(s){!s||s.length===0||this.$axios.post(cp_url("assets-fieldtype"),{assets:s}).then(e=>{Array.isArray(e.data)&&e.data.length>0&&(this.image=e.data[0].permalink)})}}};var D=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"flex gap-4 justify-end max-w-lg w-full"},[e.image?t("img",{staticClass:"w-24 h-24 object-cover rounded-lg",attrs:{src:e.image,alt:"SEO Preview Image"}}):t("div",{staticClass:"w-24 h-24 bg-gray-200 rounded-lg"}),t("div",{staticClass:"flex-grow items-start align-top"},[t("h2",{staticClass:"text-lg sm:text-xl font-bold text-blue-700 text-wrap"},[e._v(" "+e._s(e.finalTitle)+" ")]),e.meta.url?t("p",{staticClass:"text-sm text-green-600 truncate"},[e._v(" "+e._s(e.meta.url)+" ")]):e._e(),t("p",{staticClass:"text-sm sm:text-base text-gray-700 mt-1"},[e._v(" "+e._s(e.truncatedDescription)+" ")])])])])},I=[],j=o(W,D,I,!1,null,null,null,null);const k=j.exports;Statamic.$components.register("fine_seo_title-fieldtype",V);Statamic.$components.register("fine_seo_description-fieldtype",N);Statamic.$components.register("fine_seo_preview-fieldtype",k);
